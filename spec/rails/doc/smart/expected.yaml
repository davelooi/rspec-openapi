# This file is auto-generated by rspec-openapi https://github.com/k0kubun/rspec-openapi
#
# When you write a spec in spec/requests, running the spec with `OPENAPI=1 rspec` will
# update this file automatically. You can also manually edit this file.
---
openapi: 3.0.3
info:
  title: rspec-openapi
  version: 1.0.0
  description: My beautiful API
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
servers:
- url: http://localhost:3000
paths:
  "/tables":
    get:
      summary: index
      tags:
      - Table
      parameters:
      - name: X-Authorization-Token
        in: header
        required: true
        schema:
          type: string
        example: token
      - name: page
        in: query
        schema:
          type: integer
        example: 42
      - name: per
        in: query
        schema:
          type: integer
        example: 10
      responses:
        '200':
          description: with flat query parameters
          content:
            application/json:
              schema:
                type: array
                items:
                  "$ref": "#/components/schemas/Table"
              example:
              - id: 1
                name: access
                description: logs
                database:
                  id: 2
                  name: production
                null_sample:
                storage_size: 12.3
                created_at: '2020-07-17T00:00:00+00:00'
                updated_at: '2020-07-17T00:00:00+00:00'
          headers:
            X-Cursor:
              schema:
                type: integer
        '401':
          description: does not return tables if unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Unauthorized
  "/tables/{id}":
    get:
      summary: show
      tags:
      - Table
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
        example: 1
      responses:
        '200':
          description: returns a table with changes !!!
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  name:
                    type: string
                  description:
                    type: string
                  database:
                    type: object
                    properties:
                      id:
                        type: integer
                      name:
                        type: string
                  null_sample:
                    nullable: true
                  storage_size:
                    type: number
                    format: float
                  created_at:
                    type: string
                  updated_at:
                    type: string
              example:
                id: 1
                name: access
                description: logs
                database:
                  id: 2
                  name: production
                null_sample:
                storage_size: 12.3
                created_at: '2020-07-17T00:00:00+00:00'
                updated_at: '2020-07-17T00:00:00+00:00'
components:
  schemas:
    Table:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
        database:
          type: object
          properties:
            id:
              type: integer
            name:
              type: string
        null_sample:
          nullable: true
        storage_size:
          type: number
          format: float
        created_at:
          type: string
        updated_at:
          type: string
